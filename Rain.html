<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>下雨</title>
<script type="text/javascript">
	
	window.onload=function(){
		
		var c=document.getElementById("draw");
		var pen=c.getContext("2d");
		
		c.width=window.innerWidth;
		c.height=window.innerHeight;
		
		var MaxSpeed=5,
			lines=[],
			spacing=5,
			xSpacing=0,
			n=Math.floor(c.width/spacing),
			colors=["#3B8686", "#79BD9A", "#A8DBA8", "#0B486B"],
			i;
		
		for(i=0;i<n;i++){
			xSpacing+=spacing;
			lines.push({
				x:xSpacing,
				y:Math.round(Math.random()*c.height),
				width:2,
				height:Math.round(Math.random()*(innerHeight/10)),
				speed:Math.random()*MaxSpeed+1,
				color:colors[Math.floor(Math.random()*colors.length)]
			});
		}
		
		function draw(){
			var i;
			pen.clearRect(0,0,c.width,c.height);
			for(i=0;i<n;i++){
				pen.fillStyle=lines[i].color;	
				pen.fillRect(lines[i].x,lines[i].y,lines[i].width,lines[i].height);
				lines[i].y+=lines[i].speed;
				
				if(lines[i].y>c.height){
					lines[i].y=0-lines[i].height;
				}
			}
			window.requestAnimationFrame(draw);
		}
		
		draw();
	};
	
</script>
<style type="text/css">
	
	html,body {
		margin:0px;
		padding: 0px;
	}
	
	#draw {
		background:#CFF09E;
		display: block;
	}
	}
	
</style>
</head>

<body>

	<canvas id="draw"></canvas>

</body>
</html>
